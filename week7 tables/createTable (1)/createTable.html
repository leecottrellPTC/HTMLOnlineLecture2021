<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Statistics</title>
</head>

<body>
    <h1>Statistics</h1>
    <h2 id="total"></h2>
    <h2 id="avg"></h2>
    <h2 id="std"></h2>

    <table class="table table-striped table-hover" id="statsTable">
        <thead>
            <th>Number</th>
            <th>x - x&#772;</th>
            <th>(x - x&#772;)<sup>2</sup></th>
        </thead>

    </table>


    <script>
        var x;
        var total = 0;
        var avg = 0;
        var std = 0;

                     // 0   1   2   3   4   5      
        var numbers = [65, 66, 80, 96, 92, 50, 66, 51, 79, 76, 67, 69, 94, 100, 84, 91, 56, 91, 92, 52, 73, 63, 91, 52, 70, 65, 73, 90, 83, 96, 65, 100, 94, 93, 82, 78, 58, 64, 65, 64, 77, 82, 53, 71, 75, 80, 59, 79, 69, 68, 55, 51, 51, 66, 89, 74, 61, 79, 85, 100, 69, 86, 80, 85, 96, 52, 93, 64, 56, 95, 69, 50, 82, 52, 93, 55, 54, 51, 97, 100, 91, 50, 93, 84, 57, 80, 85, 83, 53, 99, 62, 64, 66, 93, 65, 86, 80, 70, 78, 64];
        for(x = 0; x < numbers.length; x++){
            //document.write(numbers[x] + "<br>");
            total += numbers[x];
        }
        document.getElementById("total").innerHTML = "Total = " + total
        avg = total / numbers.length;

        document.getElementById("avg").innerHTML = "Average = " + avg;
        std = Math.sqrt(total / numbers.length);

        document.getElementById("std").innerHTML = "Std = " + std.toFixed(2);


        var diff = 0;
        //build the table
        var theTable = document.getElementById("statsTable");
        for(x = 0; x < numbers.length; x++){
            var row = theTable.insertRow(x+1);
            var col1 = row.insertCell();
            col1.innerHTML = "<i>"+numbers[x]+"</i>";
            
            diff = numbers[x] - avg;

            var col2 = row.insertCell();
            col2.innerHTML = diff.toFixed(1);

            var col3 = row.insertCell();
            col3.innerHTML = (diff * diff).toFixed(1);

            row.addEventListener("click", rowHandler.bind(MouseEvent, row));

        }//end of for loop that build tables

        function rowHandler(aRow){
            var cols = aRow.getElementsByTagName("td");
            //get all columns from teh table
            alert("Value = " + cols[0].innerHTML + "\nDiff from avg " + cols[1].innerHTML);
        }
       
        /* document.write(numbers[0] + "<br>");
        document.write(numbers[1]+ "<br>");
        document.write(numbers[2]+ "<br>");
        document.write(numbers[3]+ "<br>");*/
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>


</body>

</html>